{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\errorscript.js"],"names":["cc","Class","extends","Component","properties","questionList","default","type","Node","onLoad","error_list","JSON","parse","sys","localStorage","getItem","start","defaultGame","log","seq","ErrorQuestion","i","questionNum","Math","round","url","toString","loader","loadRes","SpriteFrame","err","res","console","error","starNode","setPosition","starSprite","addComponent","Sprite","spriteFrame","addChild","Clicked","length","toScene","director","loadScene"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAa;AACTC,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA;AADL,KAHP;;AAUL;;AAEAC,UAZK,oBAYK;AACZ;AACA,aAAKC,UAAL,GAAkBC,KAAKC,KAAL,CAAWZ,GAAGa,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAX,CAAlB;AACA,KAfO;AAiBLC,SAjBK,mBAiBI;AACX,aAAKC,WAAL;AACMjB,WAAGkB,GAAH,CAAO,cAAP;AACH,KApBI;;;AAsBRD,iBAAY,uBAAU;AACrB,aAAKE,GAAL,GAAW,CAAX;AACA;AACA,aAAKC,aAAL,CAAmB,KAAKD,GAAxB;AACA;AACG,KA3BI;;AA6BLC,mBAAc,uBAASC,CAAT,EAAW;AAAA;;AACrB,YAAIC,cAAcC,KAAKC,KAAL,CAAW,KAAKd,UAAL,CAAgBW,CAAhB,IAAqB,IAAhC,CAAlB;AACN,YAAII,MAAM,OAAOH,YAAYI,QAAZ,EAAjB;AACA1B,WAAG2B,MAAH,CAAUC,OAAV,CAAkBH,GAAlB,EAAuBzB,GAAG6B,WAA1B,EAAuC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3C;AACA,gBAAID,GAAJ,EAAS;AACLE,wBAAQC,KAAR,CAAcH,GAAd;AACA;AACH;AACV;AACK,gBAAII,WAAW,IAAIlC,GAAGQ,IAAP,EAAf,CAP+C,CAOjB;AAC1B;AACJ0B,qBAASC,WAAT,CAAqB,CAArB,EAAuB,CAAvB,EAT+C,CASpB;AAC3B,gBAAIC,aAAaF,SAASG,YAAT,CAAsBrC,GAAGsC,MAAzB,CAAjB,CAV+C,CAUI;AACnDF,uBAAWG,WAAX,GAAyBR,GAAzB,CAX+C,CAWjB;AAC9B,kBAAK1B,YAAL,CAAkBmC,QAAlB,CAA2BN,QAA3B,EAZ+C,CAYT;AACrC,SAbP;AAcG,KA9CI;;AAgDRO,aAAQ,mBAAU;AACX,UAAE,KAAKtB,GAAP;AACN,YAAG,KAAKA,GAAL,IAAY,KAAKT,UAAL,CAAgBgC,MAA/B,EAAsC;AAC5B,iBAAKtB,aAAL,CAAmB,KAAKD,GAAxB;AACTnB,eAAGkB,GAAH,CAAO,KAAKR,UAAL,CAAgBgB,QAAhB,EAAP;AACM,SAHP,MAKC,KAAKiB,OAAL;AACE,KAxDI;;AA0DRA,aAAQ,mBAAU;AACX3C,WAAG4C,QAAH,CAAYC,SAAZ,CAAsB,UAAtB;AACH;;AA5DI,CAAT","file":"errorscript.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        questionList:{\n            default: null,\n            type: cc.Node\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\t\t//获取本地储存的错题序号信息\n\t\tthis.error_list = JSON.parse(cc.sys.localStorage.getItem('userData'));\n\t},\n\n    start () {\n\t\tthis.defaultGame();\n        cc.log(\"start to run\");\n    },\n\n\tdefaultGame:function(){\n\t\tthis.seq = 0;\n\t\t//显示错题\n\t\tthis.ErrorQuestion(this.seq);\n\t\t//cc.sys.localStorage.setItem(\"error\", error);\t\t\t//储存错题\n    },\n\t\n    ErrorQuestion:function(i){\n        var questionNum = Math.round(this.error_list[i] + 1001);\n\t\tvar url = \"1/\" + questionNum.toString();\n\t\tcc.loader.loadRes(url, cc.SpriteFrame, (err, res) => {\n            //加载错误则报错\n            if (err) {\n                console.error(err);\n                return;\n            }\n\t\t\t//创建一个使用图片资源的新节点对象\n        let starNode = new cc.Node(); //创建一个新节点\n            //starNode.name = \"star1\";\n        starNode.setPosition(0,0); //创建位置\n        let starSprite = starNode.addComponent(cc.Sprite); //增加精灵组件\n        starSprite.spriteFrame = res; //设置精灵组件图片资源\n        this.questionList.addChild(starNode); //场景中增加新节点\n        });\n    },\n\t\n\tClicked:function(){\n        ++this.seq;\n\t\tif(this.seq != this.error_list.length){\n            this.ErrorQuestion(this.seq);\n\t\t\tcc.log(this.error_list.toString());\n        }\n\t\telse\n\t\t\tthis.toScene();\n    },\n\t\n\ttoScene:function(){\n        cc.director.loadScene(\"lxybegin\");\n    }\n\t\n});\n"]}