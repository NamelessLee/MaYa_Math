{"version":3,"sources":["../../../../assets/Script/assets/Script/errorscript.js"],"names":["cc","Class","extends","Component","properties","questionList","default","type","Node","CurrentNum","Label","TotalNum","Answer","onLoad","error_list","JSON","parse","sys","localStorage","getItem","node","active","start","defaultGame","log","seq","ErrorQuestion","i","questionNum","Math","round","string","toString","length","url","loader","loadRes","SpriteFrame","err","res","console","error","starNode","setPosition","starSprite","addComponent","Sprite","spriteFrame","addChild","Clicked_next","Alert","show","Clicked_last","toScene","Clicked_answer","sequence","director","loadScene","toMenu"],"mappings":"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","file":"errorscript.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        questionList:{\n            default: null,\n            type: cc.Node\n        },\n\t\t\n\t\tCurrentNum:{\n            default: null,\n            type: cc.Label\n        },\n\t\t\n\t\tTotalNum:{\n            default: null,\n            type: cc.Label\n        },\n\t\t\n\t\tAnswer:{\n\t\t\tdefault: null,\n\t\t\ttype: cc.Label\n\t\t}\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\t\t//获取本地储存的错题序号信息\n\t\tthis.error_list = JSON.parse(cc.sys.localStorage.getItem('userData'));\n\t\t//隐藏答案节点\n\t\tthis.Answer.node.active =  false;\n\t},\n\n    start () {\n\t\tthis.defaultGame();\n        cc.log(\"start to run\");\n    },\n\n\tdefaultGame:function(){\n\t\tthis.seq = 0;\n\t\t//显示错题\n\t\tthis.ErrorQuestion(this.seq);\n\t\t//cc.sys.localStorage.setItem(\"error\", error);\t\t\t//储存错题\n    },\n\t\n    ErrorQuestion:function(i){\n        var questionNum = Math.round(this.error_list[i] + 1001);\n\t\tthis.CurrentNum.string = (i+1).toString();\n\t\tthis.TotalNum.string = this.error_list.length.toString(); \n\t\tvar url = \"1/\" + questionNum.toString();\n\t\tcc.loader.loadRes(url, cc.SpriteFrame, (err, res) => {\n            //加载错误则报错\n            if (err) {\n                console.error(err);\n                return;\n            }\n\t\t\t//创建一个使用图片资源的新节点对象\n        let starNode = new cc.Node(); //创建一个新节点\n            //starNode.name = \"star1\";\n        starNode.setPosition(0,100); //创建位置\n        let starSprite = starNode.addComponent(cc.Sprite); //增加精灵组件\n        starSprite.spriteFrame = res; //设置精灵组件图片资源\n        this.questionList.addChild(starNode); //场景中增加新节点\n        });\n    },\n\t\n\tClicked_next:function(){\t\t\t\t\t\t\t\t\t//下一题\n\t\tif(this.seq != this.error_list.length - 1){\n\t\t\t++this.seq;\n\t\t\tthis.Answer.node.active =  false; //隐藏节点\n            this.ErrorQuestion(this.seq);\n\t\t\tcc.log(this.error_list.toString());\n        }\n\t\telse\n\t\t\tAlert.show(\"已为最后一题\", null, false);\n    },\n\t\n\tClicked_last:function(){\t\t\t\t\t\t\t\t\t//上一题\n\t\tif(this.seq != 0){\t\t\t\t\t//第一题不能回退\n\t\t\t--this.seq;\n\t\t\tthis.Answer.node.active =  false; //隐藏节点\n\t\t}\n\t\telse\n\t\t\tAlert.show(\"已为第一题\", null, false);\n\t\tif(this.seq != this.error_list.length){\n            this.ErrorQuestion(this.seq);\n\t\t\tcc.log(this.error_list.toString());\n        }\n\t\telse\n\t\t\tthis.toScene();\n    },\n\t\n\tClicked_answer:function(){\t\t\t\t\t\t\t\t\t//查看答案\n\t\tvar sequence;\n\t\tsequence = this.error_list[this.seq];    //题号\n\t\tif(sequence>=0 && sequence<=49)\n\t\t\tthis.Answer.string = \"答案：A\".toString();\n\t\telse if(sequence>=50 && sequence<=99)\n\t\t\tthis.Answer.string = \"答案：B\".toString();\n\t\telse if(sequence>=100 && sequence<=149)\n\t\t\tthis.Answer.string = \"答案：C\".toString();\n\t\tthis.Answer.node.active=true;\n\t},\n\t\n\ttoScene:function(){\n        cc.director.loadScene(\"lxybegin\");\n    },\n\t\n\ttoMenu:function(){\n\t\tcc.director.loadScene(\"lxymenu\");\n    }\n});\n"]}